<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Offer Tab Demo - New Popup Flow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .modal-backdrop {
        background-color: rgba(0, 0, 0, 0.5);
      }
    </style>
  </head>
  <body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
      <h1 class="text-2xl font-bold text-gray-900 mb-6">
        Offer Tab Demo - New Popup Flow
      </h1>

      <!-- Offer Tab Content -->
      <div class="border-b mb-6">
        <div class="flex space-x-0">
          <button
            class="px-4 py-2 text-sm font-medium rounded-l-md border bg-orange-500 text-white border-orange-500"
          >
            Offer Details
          </button>
          <button
            class="px-4 py-2 text-sm font-medium rounded-r-md border-t border-r border-b bg-white text-gray-700 border-gray-300 hover:bg-gray-50"
          >
            Documents
          </button>
        </div>
      </div>

      <!-- Offer Content -->
      <div>
        <h3 class="text-lg font-semibold mb-4">Offer</h3>

        <div class="mb-6">
          <h4 class="text-base font-semibold mb-2">Offer Details</h4>
          <div class="flex items-center mb-2">
            <span class="text-green-600 mr-2">âœ“</span>
            <span class="text-sm"
              >Offer Details Complete - 7/4/25 (9:57 PM)</span
            >
          </div>
          <button
            id="viewEditOfferBtn"
            class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded text-sm font-medium flex items-center"
          >
            <svg
              class="w-4 h-4 mr-2"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
              />
            </svg>
            View/Edit Offer Details
          </button>
        </div>

        <div>
          <h4 class="text-base font-semibold mb-2">Offer Letter</h4>
          <div class="bg-yellow-50 border border-yellow-200 rounded p-3 mb-3">
            <p class="text-sm text-yellow-800">
              Offer letter is incomplete. Please prepare the offer letter.
            </p>
          </div>
          <button
            class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded text-sm font-medium flex items-center"
          >
            <svg
              class="w-4 h-4 mr-2"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              />
            </svg>
            Prepare Offer Letter
          </button>
        </div>
      </div>
    </div>

    <!-- Offer Details Modal (First Image) -->
    <div
      id="offerDetailsModal"
      class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50"
    >
      <div
        class="bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden"
      >
        <div class="border-b pb-4 p-6 flex items-center justify-between">
          <h3 class="text-xl font-semibold text-gray-900">Offer Details</h3>
          <div class="flex items-center gap-4">
            <button
              id="viewResponseHistoryBtn"
              class="border border-orange-500 text-orange-500 hover:bg-orange-50 px-4 py-2 rounded text-sm font-medium flex items-center"
            >
              <svg
                class="w-4 h-4 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                />
              </svg>
              View Response History
            </button>
            <button
              id="closeOfferDetails"
              class="text-gray-400 hover:text-gray-600 text-2xl"
            >
              &times;
            </button>
          </div>
        </div>

        <div class="overflow-y-auto flex-1 p-6">
          <div class="space-y-4">
            <!-- Position Title -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700"
                >Position Title</span
              >
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">as</span>
                <button
                  onclick="openEditModal('positionTitle', 'Position Title', 'text', 'as')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Start Date -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700">Start Date</span>
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">7/16/2025</span>
                <button
                  onclick="openEditModal('startDate', 'Start Date', 'date', '2025-07-16')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Job Status -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700">Job Status</span>
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">Exempt</span>
                <button
                  onclick="openEditModal('jobStatus', 'Job Status', 'select', 'Exempt')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Supervisor Name -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700"
                >Supervisor Name</span
              >
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">sd</span>
                <button
                  onclick="openEditModal('supervisorName', 'Supervisor Name', 'text', 'sd')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Supervisor Email -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700"
                >Supervisor Email</span
              >
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">sanya@commercev3.com</span>
                <button
                  onclick="openEditModal('supervisorEmail', 'Supervisor Email', 'email', 'sanya@commercev3.com')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Which informational handout -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700"
                >Which informational handout should this applicant
                receive?</span
              >
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900"
                  >Intern Onboarding - BH Packet</span
                >
                <button
                  onclick="openEditModal('handout', 'Which informational handout should this applicant receive?', 'select', 'Intern Onboarding - BH Packet')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Should this applicant receive the IndentoGo form? -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700"
                >Should this applicant receive the IndentoGo form?</span
              >
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">Yes</span>
                <button
                  onclick="openEditModal('identogo', 'Should this applicant receive the IndentoGo form?', 'select', 'Yes')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Which map do they need to receive? -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700"
                >Which map do they need to receive?</span
              >
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">CareNow</span>
                <button
                  onclick="openEditModal('map', 'Which map do they need to receive?', 'select', 'CareNow')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>

            <!-- FT/PT -->
            <div
              class="flex items-center justify-between py-3 border-b border-gray-200"
            >
              <span class="text-sm font-medium text-gray-700">FT/PT</span>
              <div class="flex items-center gap-3">
                <span class="text-sm text-gray-900">Full Time</span>
                <button
                  onclick="openEditModal('ftpt', 'FT/PT', 'select', 'Full Time')"
                  class="text-orange-500 hover:text-orange-600"
                >
                  <svg
                    class="w-4 h-4"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                    />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="border-t pt-4 p-6">
          <button
            id="closeOfferDetailsBtn"
            class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded text-sm font-medium"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- Response History Modal -->
    <div
      id="responseHistoryModal"
      class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50"
    >
      <div
        class="bg-white rounded-lg shadow-xl max-w-5xl w-full mx-4 h-[80vh] overflow-hidden"
      >
        <div class="border-b pb-4 p-6 flex items-center justify-between">
          <h3 class="text-xl font-semibold text-gray-900 flex items-center">
            <svg
              class="w-5 h-5 mr-2 text-orange-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
              />
            </svg>
            View Complete Response History
          </h3>
          <button
            id="closeResponseHistory"
            class="text-gray-400 hover:text-gray-600 text-2xl"
          >
            &times;
          </button>
        </div>

        <div class="p-6">
          <p class="text-sm text-gray-700 mb-6">
            View the history of changes that have been made to the responses to
            the questions.
          </p>

          <div class="overflow-y-auto h-[calc(80vh-200px)] space-y-6">
            <!-- Position Title -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900">Position Title</span>
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Start Date -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900">Start Date</span>
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Job Status -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900">Job Status</span>
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Supervisor Name -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900">Supervisor Name</span>
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Supervisor Email -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900">Supervisor Email</span>
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Which informational handout -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900"
                  >Which informational handout should this applicant
                  receive?</span
                >
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Should this applicant receive the IndentoGo form? -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900"
                  >Should this applicant receive the IndentoGo form?</span
                >
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Which map do they need to receive? -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900"
                  >Which map do they need to receive?</span
                >
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- FT/PT -->
            <div class="border border-gray-300 rounded">
              <div class="p-4 border-b border-gray-300 flex items-center">
                <svg
                  class="w-4 h-4 mr-2 text-gray-600"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
                  />
                </svg>
                <span class="font-medium text-gray-900">FT/PT</span>
              </div>
              <table class="w-full">
                <thead>
                  <tr class="bg-orange-500 bg-opacity-10">
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Date of Edit
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed To
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed From
                    </th>
                    <th
                      class="px-4 py-3 text-left text-sm font-medium text-gray-900"
                    >
                      Changed By
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-gray-200">
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                    <td class="px-4 py-3 text-sm text-gray-900">--</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="border-t pt-4 p-6">
          <button
            id="closeResponseHistoryBtn"
            class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded text-sm font-medium"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <!-- Success Alert -->
    <div
      id="successAlert"
      class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg hidden z-50"
    >
      <div class="flex items-center">
        <svg
          class="w-5 h-5 mr-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          />
        </svg>
        <span>Changes saved successfully!</span>
      </div>
    </div>

    <!-- Edit Field Modal (Second Image) -->
    <div
      id="editFieldModal"
      class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50"
    >
      <div class="bg-white rounded-lg shadow-xl max-w-lg w-full mx-4">
        <div class="border-b pb-4 p-6">
          <h3 class="text-lg font-semibold text-gray-900 flex items-center">
            <svg
              class="w-5 h-5 mr-2 text-orange-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
              />
            </svg>
            Offer Script Question
          </h3>
        </div>

        <div class="p-6">
          <p class="text-sm text-gray-700 mb-2">
            You can change the response to this question below.
          </p>
          <p class="text-sm text-gray-600 mb-6">
            <strong>Note:</strong> all changes to responses will be captured in
            the "Response History" section.
          </p>

          <div class="space-y-4">
            <div>
              <label
                id="editFieldLabel"
                class="text-sm font-medium text-gray-700 mb-2 block"
              >
                <span class="text-red-500">*</span> Field Title
              </label>

              <input
                id="editFieldInput"
                type="text"
                class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
              />

              <select
                id="editFieldSelect"
                class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hidden"
              >
                <!-- Options will be populated dynamically -->
              </select>
            </div>
          </div>
        </div>

        <div class="border-t pt-4 p-6 flex gap-3 justify-end">
          <button
            id="cancelEdit"
            class="border border-gray-300 text-gray-700 hover:bg-gray-50 px-4 py-2 rounded text-sm font-medium"
          >
            Cancel
          </button>
          <button
            id="saveEdit"
            class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded text-sm font-medium"
          >
            Save
          </button>
        </div>
      </div>
    </div>

    <script>
      // Field options for select fields
      const fieldOptions = {
        jobStatus: ["Exempt", "Non-Exempt"],
        handout: [
          "ECS Informational Handout",
          "Full Time/Market Informational Handout",
          "Pool/Part Time Informational Handout",
          "Intern Onboarding - BH Packet",
          "Intern Onboarding - CFS Packet",
          "Intern Onboarding - Other",
          "None",
        ],
        identogo: ["Yes", "No"],
        map: ["CareNow", "Concentra", "OHS", "None"],
        ftpt: ["Full Time", "Part Time"],
      };

      let currentEditingField = null;

      // Open offer details modal
      document
        .getElementById("viewEditOfferBtn")
        .addEventListener("click", function () {
          document
            .getElementById("offerDetailsModal")
            .classList.remove("hidden");
          document.getElementById("offerDetailsModal").classList.add("flex");
        });

      // Close offer details modal
      function closeOfferDetailsModal() {
        document.getElementById("offerDetailsModal").classList.add("hidden");
        document.getElementById("offerDetailsModal").classList.remove("flex");
      }

      document
        .getElementById("closeOfferDetails")
        .addEventListener("click", closeOfferDetailsModal);
      document
        .getElementById("closeOfferDetailsBtn")
        .addEventListener("click", closeOfferDetailsModal);

      // Open edit field modal
      function openEditModal(fieldKey, fieldTitle, fieldType, currentValue) {
        currentEditingField = {
          key: fieldKey,
          title: fieldTitle,
          type: fieldType,
          value: currentValue,
        };

        document.getElementById(
          "editFieldLabel"
        ).innerHTML = `<span class="text-red-500">*</span> ${fieldTitle}`;

        const input = document.getElementById("editFieldInput");
        const select = document.getElementById("editFieldSelect");

        if (fieldType === "select") {
          input.classList.add("hidden");
          select.classList.remove("hidden");

          // Populate select options
          select.innerHTML = "";
          const options = fieldOptions[fieldKey] || [];
          options.forEach((option) => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.textContent = option;
            if (option === currentValue) {
              optionElement.selected = true;
            }
            select.appendChild(optionElement);
          });
        } else {
          select.classList.add("hidden");
          input.classList.remove("hidden");
          input.type = fieldType;
          input.value = currentValue;
        }

        document.getElementById("editFieldModal").classList.remove("hidden");
        document.getElementById("editFieldModal").classList.add("flex");
      }

      // Close edit field modal
      function closeEditModal() {
        document.getElementById("editFieldModal").classList.add("hidden");
        document.getElementById("editFieldModal").classList.remove("flex");
        currentEditingField = null;
      }

      document
        .getElementById("cancelEdit")
        .addEventListener("click", closeEditModal);

      // Save edit
      document
        .getElementById("saveEdit")
        .addEventListener("click", function () {
          if (currentEditingField) {
            const input = document.getElementById("editFieldInput");
            const select = document.getElementById("editFieldSelect");

            let newValue;
            if (currentEditingField.type === "select") {
              newValue = select.value;
            } else {
              newValue = input.value;
            }

            // Update the display value in the offer details modal
            const fieldRows = document.querySelectorAll(
              "#offerDetailsModal .border-b"
            );
            fieldRows.forEach((row) => {
              const button = row.querySelector("button");
              if (
                button &&
                button.getAttribute("onclick") &&
                button.getAttribute("onclick").includes(currentEditingField.key)
              ) {
                const valueSpan = row.querySelector(".text-gray-900");
                if (valueSpan) {
                  valueSpan.textContent = newValue;
                }
                // Update the onclick attribute with new value
                const onclickAttr = button.getAttribute("onclick");
                const escapedOldValue = currentEditingField.value
                  .replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
                  .replace(/'/g, "\\'");
                const escapedNewValue = newValue.replace(/'/g, "\\'");
                const updatedOnclick = onclickAttr.replace(
                  new RegExp(`'${escapedOldValue}'\\)`),
                  `'${escapedNewValue}')`
                );
                button.setAttribute("onclick", updatedOnclick);
              }
            });

            // Show success alert
            showSuccessAlert();

            closeEditModal();
          }
        });

      // Show success alert
      function showSuccessAlert() {
        const alert = document.getElementById("successAlert");
        alert.classList.remove("hidden");

        // Auto-hide after 3 seconds
        setTimeout(() => {
          alert.classList.add("hidden");
        }, 3000);
      }

      // Open response history modal
      document
        .getElementById("viewResponseHistoryBtn")
        .addEventListener("click", function () {
          document
            .getElementById("responseHistoryModal")
            .classList.remove("hidden");
          document.getElementById("responseHistoryModal").classList.add("flex");
        });

      // Close response history modal
      function closeResponseHistoryModal() {
        document.getElementById("responseHistoryModal").classList.add("hidden");
        document
          .getElementById("responseHistoryModal")
          .classList.remove("flex");
      }

      document
        .getElementById("closeResponseHistory")
        .addEventListener("click", closeResponseHistoryModal);
      document
        .getElementById("closeResponseHistoryBtn")
        .addEventListener("click", closeResponseHistoryModal);

      // Close modals when clicking outside
      document
        .getElementById("offerDetailsModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeOfferDetailsModal();
          }
        });

      document
        .getElementById("editFieldModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeEditModal();
          }
        });

      document
        .getElementById("responseHistoryModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeResponseHistoryModal();
          }
        });
    </script>
  </body>
</html>
